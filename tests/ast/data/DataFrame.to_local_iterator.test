## TEST CASE

df = session.table("test_table")

rows = [row for row in df.to_local_iterator()]

rows = [row for row in df.to_local_iterator(block=False)]

rows = [row for row in df.select("*").to_local_iterator()]

rows = [row for row in df.to_local_iterator(statement_params={"SF_PARTNER": "FAKE_PARTNER"})]

rows = [row for row in df.filter(df["num"] > 1).to_local_iterator(block=False)]

rows = [row for row in df.to_local_iterator(statement_params={"SF_PARTNER": "FAKE_PARTNER"}, case_sensitive=False)]


## EXPECTED UNPARSER OUTPUT

df = session.table("test_table")

df.to_local_iterator()

df.to_local_iterator(block=False)

rows = df.select("*")

rows.to_local_iterator()

df.to_local_iterator(statement_params={"SF_PARTNER": "FAKE_PARTNER"})

rows = df.filter(df["num"] > 1)

rows.to_local_iterator(block=False)

df.to_local_iterator(statement_params={"SF_PARTNER": "FAKE_PARTNER"}, case_sensitive=False)

## EXPECTED ENCODED AST

CkkKRwo58gs2Eg4KDAoKdGVzdF90YWJsZRogCCgQWhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERSANKFoiAggBEgQKAmRmGAEiAggBCjkKNwot2gkqCAEQARoCCAEiIAg1EFwaFlNSQ19QT1NJVElPTl9URVNUX01PREUgHyhcEgAYAiICCAIKCBIGCAMSAggCEAEaERIPCg0KBWZpbmFsEAMYCyAJIgQQARgV
CjcKNQor2gkoEAEaAggBIiAIQBBeGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFIB8oXhIAGAQiAggECggSBggFEgIIBBABGhESDwoNCgVmaW5hbBADGAsgCSIEEAEYFQ==
CmwKagpaiglXCiiyBSUSASoaIAgtEGAaFlNSQ19QT1NJVElPTl9URVNUX01PREUgHyhgEgeCAgQKAggBGiAILRBgGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFIB8oYCABEgYKBHJvd3MYBiICCAYKOQo3Ci3aCSoIARABGgIIBiIgCEEQYBoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERSAfKGASABgHIgIIBwoIEgYICBICCAcQARoREg8KDQoFZmluYWwQAxgLIAkiBBABGBU=
ClUKUwpJ2glGCAEQARoCCAEiIAhkEGIaFlNSQ19QT1NJVElPTl9URVNUX01PREUgHyhiKhoKClNGX1BBUlRORVISDEZBS0VfUEFSVE5FUhIAGAkiAggJCggSBggKEgIICRABGhESDwoNCgVmaW5hbBADGAsgCSIEEAEYFQ==
CsoBCscBCrYBugeyAQqEAaICgAEKM9IGMAoDbnVtEgeCAgQKAggBGiAIMhBkGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFICkoZBInygIkCiAINhBkGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFICkoZBABGiAINhBkGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFICkoZBIHggIECgIIARogCDcQZBoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERSAfKGQSBgoEcm93cxgLIgIICwo3CjUKK9oJKBABGgIICyIgCFYQZBoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERSAfKGQSABgMIgIIDAoIEgYIDRICCAwQARoREg8KDQoFZmluYWwQAxgLIAkiBBABGBU=
ClMKUQpH2glECAEaAggBIiAIehBmGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFIB8oZioaCgpTRl9QQVJUTkVSEgxGQUtFX1BBUlRORVISABgOIgIIDgoIEgYIDxICCA4QARoREg8KDQoFZmluYWwQAxgLIAkiBBABGBU=
EAEaERIPCg0KBWZpbmFsEAMYCyAJIgQQARgV
