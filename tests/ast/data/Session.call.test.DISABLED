# Disablement reason: Need to register stored proc first. Else an exception is thrown.

## TEST CASE

from snowflake.snowpark.functions import sproc

def my_sproc(session: snowflake.snowpark.Session, foo: int, bar: str, baz: dict, qux: bool) -> str:
    return "SUCCESS!"

my_sproc_sp = session.sproc.register(my_sproc, name="my_sproc", replace=True, comment="The parameters are useless.")

df = session.call("my_sproc", 1, "two", {"param1": 10, "param2": "twenty"}, True)

df2 = session.call("my_sproc", 2, "one", dict(), False)

## EXPECTED UNPARSER OUTPUT

my_sproc_sp = sproc(my_sproc, name="my_sproc", replace=True, comment="The parameters are useless.")

df = session.call("my_sproc", 1, "two", {"param1": 10, "param2": "twenty"}, True)

my_sproc_sp(1, "two", {"param1": 10, "param2": "twenty"}, True)

df2 = session.call("my_sproc", 2, "one", {}, False)

my_sproc_sp(2, "one", {}, False)

## EXPECTED ENCODED AST

CoABCn4KZ6oMZAodChtUaGUgcGFyYW1ldGVycyBhcmUgdXNlbGVzcy4SBW93bmVyIgoSCG15X3Nwcm9jWgwKCgoIbXlfc3Byb2NoBHABiAEBkgEaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKF8SDQoLbXlfc3Byb2Nfc3AYASICCAEK9wIK9AIK5QKKAeECChJCEFIAWgwKCgoIbXlfc3Byb2MaIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQARoksgwhChoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYRIDdHdvGsIBigS+AQpMEieyDCQKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShhEgZwYXJhbTESIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQCgpSEieyDCQKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShhEgZwYXJhbTISJ7IMJAoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGESBnR3ZW50eRIaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEaIcIBHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQASIaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGESBAoCZGYYAiICCAIK5wIK5AIK2QKKAdUCCgY6BAoCCAEaIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQARoksgwhChoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYRIDdHdvGsIBigS+AQpMEieyDCQKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShhEgZwYXJhbTESIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQCgpSEieyDCQKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShhEgZwYXJhbTISJ7IMJAoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGESBnR3ZW50eRIaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEaIcIBHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGEQASIaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGESABgDIgIIAwoIEgYIBBICCAMK0gEKzwEKvwGKAbsBChJCEFIAWgwKCgoIbXlfc3Byb2MaIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGMQAhoksgwhChoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYxIDb25lGh+KBBwSGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShjGh/CARwKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShjIhoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYxIFCgNkZjIYBSICCAUKwQEKvgEKswGKAa8BCgY6BAoCCAEaIboCHgoaGhZTUkNfUE9TSVRJT05fVEVTVF9NT0RFKGMQAhoksgwhChoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYxIDb25lGh+KBBwSGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShjGh/CARwKGhoWU1JDX1BPU0lUSU9OX1RFU1RfTU9ERShjIhoaFlNSQ19QT1NJVElPTl9URVNUX01PREUoYxIAGAYiAggGCggSBggHEgIIBhABGhESDwoNCgVmaW5hbBADGAkgFCIEEAEYFQ==
